---
title: "Netflix"
format:
  html: 
    code-tools:
      source: true
      toggle: false
      caption: "Code"
execute:
    warning: false
    message: false
---

```{r, echo=FALSE}
library(ggplot2)
library(dplyr)
library(readr)
library(tidyverse)
library(stringr)

netflix_titles <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2021/2021-04-20/netflix_titles.csv')

love_titles <- netflix_titles |>
  filter(str_detect(title, "Love")) |>
  mutate(year_added = as.numeric(str_extract(date_added, "\\d{4}"))) |>
  filter(!is.na(year_added)) |>
  group_by(year_added) |>
  summarise(count = n())

ggplot(love_titles, aes(x = year_added, y = count)) +
  geom_line(color = "red", size = 1) +
  geom_point() +
  scale_x_continuous(breaks = seq(2009, 2021, by = 1)) +
  labs(title = "Netflix Titles Containing 'Love' Released Over the Years",
       x = "Year", y = "Number of Titles")

```

The graph shows a steady increase in the number of Netflix titles containing "Love" from 2009 to 2020, with its peak in 2019. There was a slight decline in 2020 and then a large drop to nearly zero in 2021, likely due to filming delays caused by COVID-19.

```{r, echo=FALSE}
love_2019 <- netflix_titles |>
  mutate(year_added = as.numeric(str_extract(date_added, "\\d{4}"))) |>
  filter(year_added == 2019) |>
  filter(str_detect(title, "Love")) |>
  count(type)

ggplot(love_2019, aes(x = type, y = n, fill = type)) +
  geom_bar(stat = "identity") +
  labs(title = "Netflix Movies vs TV Shows Containing 'Love' Added in 2019", 
       x = "Type", y = "Count")
```
The bar graph shows whether more movies or TV shows with "Love" in the title were released in 2019, the year with the most releases with "Love" in the title on Netflix  From the graph we can see that 35 of the releases were movies and 20 were TV shows, indicating that Netflix produced nearly twice as many movies with "Love" in the title compared to TV shows that year. 

Sources: 
https://github.com/rfordatascience/tidytuesday/blob/main/data/2021/2021-04-20/readme.md
https://www.kaggle.com/datasets/shivamb/netflix-shows 
